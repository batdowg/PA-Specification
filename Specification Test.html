<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Specification Test - Kepner-Tregoe</title>
<style>
  body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:20px; }
  .container { background:white; padding:20px; border-radius:8px; max-width:1200px; margin:auto; box-shadow:0 3px 2px rgba(0,0,0,0.1); }
  .header { display:flex; justify-content:space-between; align-items:center; background:#2e7d32; color:white; padding:10px 15px; border-radius:4px; }
  .board { display:flex; gap:20px; }
  .process { flex:1; display:flex; flex-direction:column; gap:20px; }
  .row { display:flex; gap:10px; }
  .box { width:160px; min-height:160px; border:2px solid #2e7d32; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; padding:5px; }
  .box-title { font-weight:bold; margin-bottom:5px; }
  .notes-panel { width:250px; }
  .note { width:140px; height:40px; border:2px solid #4caf50; background:#e8f5e9; margin:5px; display:flex; align-items:center; justify-content:center; font-size:14px; cursor:grab; }
  .score { margin-top:20px; font-weight:bold; }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h2>Specification Test</h2>
    <button id="submit">Submit Answers</button>
  </div>
  <div class="board">
    <div class="process" id="process-board">
      <div class="row">
        <div class="box" data-label="STEP1"><div class="box-title">STEP 1</div></div>
        <div class="box" data-label="STEP2"><div class="box-title">STEP 2</div></div>
      </div>
      <div class="row">
        <div class="box" data-label="STEP3"><div class="box-title">STEP 3</div></div>
        <div class="box" data-label="STEP4"><div class="box-title">STEP 4</div></div>
      </div>
    </div>
    <div class="notes-panel" id="notes-area">
      <div class="note" draggable="true" data-target="STEP1">Define Problem</div>
      <div class="note" draggable="true" data-target="STEP1">Identify Object</div>
      <div class="note" draggable="true" data-target="STEP2">IS / IS NOT</div>
      <div class="note" draggable="true" data-target="STEP2">What / Where / When / Extent</div>
      <div class="note" draggable="true" data-target="STEP3">List Distinctions</div>
      <div class="note" draggable="true" data-target="STEP4">Check for Changes</div>
    </div>
  </div>
  <div class="score" id="score"></div>
</div>
<script>
const notes = document.querySelectorAll('.note');
notes.forEach(n => {
  n.addEventListener('dragstart', e => { n.classList.add('dragging'); e.dataTransfer.setData('text/plain', n.dataset.target); });
  n.addEventListener('dragend', e => n.classList.remove('dragging'));
});

const boxes = document.querySelectorAll('.box');
boxes.forEach(b => {
  b.addEventListener('dragover', e => { e.preventDefault(); b.classList.add('over'); });
  b.addEventListener('dragleave', e => b.classList.remove('over'));
  b.addEventListener('drop', e => {
    e.preventDefault();
    const note = document.querySelector('.dragging');
    if (note) b.appendChild(note);
    b.classList.remove('over');
  });
});

const notesArea = document.getElementById('notes-area');
notesArea.addEventListener('dragover', e => e.preventDefault());
notesArea.addEventListener('drop', e => {
  e.preventDefault();
  const note = document.querySelector('.dragging');
  if (note) notesArea.appendChild(note);
});

document.getElementById('submit').addEventListener('click', () => {
  let correct=0; let total=notes.length;
  notes.forEach(n => {
    if(n.parentElement.classList.contains('box') && n.parentElement.dataset.label===n.dataset.target) correct++; 
  });
  document.getElementById('score').textContent=`Score: ${correct}/${total}`;
});
</script>
</body>
</html>
